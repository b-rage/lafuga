(this.webpackJsonplafuga=this.webpackJsonplafuga||[]).push([[0],{46:function(e,a,t){e.exports=t(74)},51:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),c=t.n(r),s=(t(51),t(19)),o=t(25),i=t(9),u=t(10),m=t(11),p=t(12),d=t(13),b=l.a.createContext(),h=(b.Consumer,function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(l)))).state={loggedIn:!1,setLoggedIn:function(e){t.setState({loggedIn:e})}},t}return Object(d.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement(b.Provider,{value:this.state},this.props.children)}}]),a}(l.a.Component)),E=t(4),g=t(8),f=t(15),N=t(42),v=(t(61),N.initializeApp({apiKey:"AIzaSyCok1_VK2PXjScQcTELw8jSrSbeUtqPWjU",authDomain:"lafuga-8ef6d.firebaseapp.com",databaseURL:"https://lafuga-8ef6d.firebaseio.com",projectId:"lafuga-8ef6d",storageBucket:"lafuga-8ef6d.appspot.com",messagingSenderId:"496213732348",appId:"1:496213732348:web:f3a81c4748e3bce242e079"})),w=t(7),U=t.n(w),j=t(29),D=t.n(j),O=(t(33),function(e){var a=e.doImageUrl,t=e.fileType,r=e.required,c=Object(n.useState)(""),s=Object(f.a)(c,2),o=s[0],i=s[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"input-class",type:"file",onChange:function(e){var n=e.target.files&&e.target.files[0];n.name&&v.storage().ref("/".concat(t,"/").concat(n.name)).put(n).then((function(e){return e.ref.getDownloadURL()})).then((function(e){i(e),a(e)}))},required:r}),l.a.createElement("img",{className:"image-class",width:"60",src:o,alt:""}))}),y=t(45),k=function(){var e=Object(n.useState)({author:"",authorId:"",title:"",subtitle:"",introduction:"",translator:"",prologue:"",format:"",binding:"",pages:"",isbn:"",pvp:"",description:"",collection:"",pubDate:U()("2014-03-09").format("YYYY-MM-DD"),storeUrl:"",imageUrl:"",startReedUrl:"",pressNoteUrl:"",imageAuthorUrl:"",msg:!1}),a=Object(f.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)({newsTitle:"",newsDate:U()("2014-03-09").format("YYYY-MM-DD"),newsUrl:"",newsFileUrl:""}),s=Object(f.a)(c,2),o=s[0],i=s[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),p=m[0],d=m[1],b=[],h=v.firestore();Object(n.useEffect)((function(){h.collection("authors").get().then((function(e){e.forEach((function(e){b.push({author:e.data().author,imageAuthorUrl:e.data().imageAuthorUrl,description:e.data().description,idAuthor:e.id})}))})).catch((function(e){console.log("Error getting documents: ",e)}))}));var N=function(e){var a;r(Object(g.a)({},t,(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"msg",!1),a)))},w=function(e){i(Object(g.a)({},o,Object(E.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"form-class",onSubmit:function(e){e.preventDefault(),h.collection("books").add({author:t.author,authorId:t.authorId,imageAuthorUrl:t.imageAuthorUrl,title:t.title,subtitle:t.subtitle,introduction:t.introduction,translator:t.translator,prologue:t.prologue,format:t.format,binding:t.binding,pages:t.pages,isbn:t.isbn,pvp:t.pvp,description:t.description,collection:t.collection,pubDate:t.pubDate,imageUrl:t.imageUrl,storeUrl:t.storeUrl,startReedUrl:t.startReedUrl,pressNoteUrl:t.pressNoteUrl}).then((function(e){h.collection("books/".concat(e.id,"/news")).add({newsTitle:o.newsTitle,newsDate:o.newsDate,newsUrl:o.newsUrl,newsFileUrl:o.newsFileUrl}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)})),r(Object(g.a)({},t,{msg:!0}))})).catch((function(e){console.error("Error writing document: ",e)}))}},l.a.createElement("div",{className:"div-class"},l.a.createElement("h1",{className:"ml-35"},"A\xf1adir Libro"),l.a.createElement("p",{className:"label-class"},"Autor"),l.a.createElement("div",{className:"ml-35"},l.a.createElement(y.a,{options:b,getOptionLabel:function(e){return e.author},placeholder:"Elegir Autor",style:{height:"40px",width:"80%",maxWidth:"400px",marginLeft:"35px"},onChange:function(e){r(Object(g.a)({},t,{author:e.author,authorId:e.idAuthor,imageAuthorUrl:e.imageAuthorUrl}))}})),l.a.createElement("br",null),l.a.createElement("p",{className:"label-class"},"Titulo"),l.a.createElement("input",{className:"input-class",placeholder:"Titulo",type:"text",onChange:N,name:"title",value:t.title||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Subtitulo"),l.a.createElement("input",{className:"input-class",placeholder:"Subtitulo",type:"text",onChange:N,name:"subtitle",value:t.subtitle||""}),l.a.createElement("p",{className:"label-class"},"Introduccion"),l.a.createElement("input",{className:"input-class",placeholder:"Introduccion",type:"text",onChange:N,name:"introduction",value:t.introduction||""}),l.a.createElement("p",{className:"label-class"},"Traductor"),l.a.createElement("input",{className:"input-class",placeholder:"Traductor",type:"text",onChange:N,name:"translator",value:t.translator||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Prologo"),l.a.createElement("input",{className:"input-class",placeholder:"Prologo",type:"text",onChange:N,name:"prologue",value:t.prologue||""}),l.a.createElement("p",{className:"label-class"},"Formato"),l.a.createElement("input",{className:"input-class",placeholder:"Formato",type:"text",onChange:N,name:"format",value:t.format||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Encuadernacion"),l.a.createElement("input",{className:"input-class",placeholder:"Encuadernacion",type:"text",onChange:N,name:"binding",value:t.binding||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Paginas"),l.a.createElement("input",{className:"input-class",placeholder:"Paginas",type:"text",onChange:N,name:"pages",value:t.pages||"",required:!0}),l.a.createElement("p",{className:"label-class"},"ISBN"),l.a.createElement("input",{className:"input-class",placeholder:"ISBN",type:"text",onChange:N,name:"isbn",value:t.isbn||"",required:!0}),l.a.createElement("p",{className:"label-class"},"PVP"),l.a.createElement("input",{className:"input-class",placeholder:"PVP",type:"text",onChange:N,name:"pvp",value:t.pvp||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Descripci\xf3n"),l.a.createElement("input",{className:"input-class",placeholder:"Descripci\xf3n",type:"text",onChange:N,name:"description",value:t.description||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Colecci\xf3n"),l.a.createElement("input",{className:"input-class",placeholder:"Colecci\xf3n",type:"text",onChange:N,name:"collection",value:t.collection||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Link a tienda"),l.a.createElement("input",{className:"input-class",placeholder:"Link a tienda",type:"text",onChange:N,name:"storeUrl",value:t.storeUrl||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Portada"),l.a.createElement(O,{doImageUrl:function(e){r(Object(g.a)({},t,{imageUrl:e}))},fileType:"books",required:!0}),l.a.createElement("br",null),l.a.createElement("p",{className:"label-class"},"Fecha publicacion"),l.a.createElement("p",{className:"p-class"},t.pubDate||""),l.a.createElement(D.a,{defaultDate:t.pubDate,onSelect:function(e){r(Object(g.a)({},t,{pubDate:U()(new Date(e)).format("DD/MM/YYYY")}))}}),l.a.createElement("p",{className:"label-class"},"Empieza a leer"),l.a.createElement(O,{doImageUrl:function(e){r(Object(g.a)({},t,{startReedUrl:e}))},fileType:"pdfs",required:!1}),l.a.createElement("p",{className:"label-class"},"Nota de prensa"),l.a.createElement(O,{doImageUrl:function(e){r(Object(g.a)({},t,{pressNoteUrl:e}))},fileType:"pdfs",required:!1}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"button-class",type:"button",onClick:function(){d(!p)}},"A\xf1adir Noticia de prensa"),p&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"label-class"},"Fecha noticia"),l.a.createElement("p",{className:"p-class"},o.newsDate||""),l.a.createElement(D.a,{defaultDate:o.newsDate,onSelect:function(e){i(Object(g.a)({},o,{newsDate:U()(new Date(e)).format("DD/MM/YYYY")}))}}),l.a.createElement("p",{className:"label-class"},"Titulo Noticia"),l.a.createElement("input",{className:"input-class",placeholder:"Titulo Noticia",type:"text",onChange:w,name:"newsTitle",value:o.newsTitle||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Link Noticia"),l.a.createElement("input",{className:"input-class",placeholder:"Link Noticia",type:"text",onChange:w,name:"newsUrl",value:o.newsUrl||""}),l.a.createElement("p",{className:"label-class"},"Importar fichero noticia"),l.a.createElement(O,{doImageUrl:function(e){i(Object(g.a)({},o,{newsFileUrl:e}))},fileType:"pdfs",required:!1})),l.a.createElement("br",null),l.a.createElement("button",{className:"button-class",type:"submit"},"Guardar"),t.msg&&l.a.createElement("h2",null,"Libro a\xf1adido con exito"))))},x=function(){var e=Object(n.useState)({author:"",description:"",imageAuthorUrl:"",dateAuthor:"",msg:!1}),a=Object(f.a)(e,2),t=a[0],r=a[1],c=v.firestore(),s=function(e){var a;r(Object(g.a)({},t,(a={},Object(E.a)(a,e.target.name,e.target.value),Object(E.a)(a,"msg",!1),a)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"form-class",onSubmit:function(e){e.preventDefault(),c.collection("authors").add({author:t.author,description:t.description,imageAuthorUrl:t.imageAuthorUrl,dateAuthor:t.dateAuthor}).then((function(){r(Object(g.a)({},t,{msg:!0}))})).catch((function(e){console.error("Error writing document: ",e)}))}},l.a.createElement("div",{className:"div-class"},l.a.createElement("h1",{className:"ml-35"},"A\xf1adir Autor"),l.a.createElement("p",{className:"label-class"},"Autor"),l.a.createElement("input",{className:"input-class",placeholder:"Autor",type:"text",onChange:s,name:"author",value:t.author||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Fecha nacimiento/muerte autor"),l.a.createElement("input",{className:"input-class",placeholder:"Fecha",type:"text",onChange:s,name:"dateAuthor",value:t.dateAuthor||""}),l.a.createElement("p",{className:"label-class"},"Descripci\xf3n"),l.a.createElement("input",{className:"input-class",placeholder:"Descripci\xf3n",type:"text",onChange:s,name:"description",value:t.description||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Foto Autor"),l.a.createElement(O,{doImageUrl:function(e){r(Object(g.a)({},t,{imageAuthorUrl:e}))},fileType:"authors",required:!1}),l.a.createElement("br",null),l.a.createElement("button",{className:"button-class",type:"submit"},"Guardar"),t.msg&&l.a.createElement("h2",null,"Autor a\xf1adido con exito"))))},A=function(e){var a=e.title,t=e.id;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h2",null,a," ")),l.a.createElement("div",{className:"div-list"},l.a.createElement(s.b,{to:"/dashboard/book/".concat(t),style:{textDecoration:"none"}},l.a.createElement("h5",null,"a\xf1adir noticia de prensa"))))},C=function(){var e=Object(n.useState)({imageUrl:"",author:"",title:"",idBook:"",listBooks:[]}),a=Object(f.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){v.firestore().collection("books").get().then((function(e){e.forEach((function(e){t.listBooks.push({author:e.data().author,imageUrl:e.data().imageUrl,title:e.data().title,idBook:e.id}),r(Object(g.a)({},t,{},t.listBooks)),console.log(t.listBooks)}))})).catch((function(e){console.log("Error getting documents: ",e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"ml-35"},"Listado Libros"),l.a.createElement("br",null),t.listBooks.map((function(e){return l.a.createElement(A,{key:e.title,title:e.title,id:e.idBook})})))},T=function(){var e=[{path:"/dashboard/add-book",exact:!0,sidebar:function(){return l.a.createElement("div",null,"add book")},main:function(){return l.a.createElement(k,null)}},{path:"/dashboard/add-author",exact:!0,sidebar:function(){return l.a.createElement("div",null,"add author")},main:function(){return l.a.createElement(x,null)}},{path:"/dashboard/list-books",sidebar:function(){return l.a.createElement("div",null,"list books")},main:function(){return l.a.createElement(C,null)}}];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ml-35"},l.a.createElement("nav",null,l.a.createElement(s.b,{to:"/dashboard/add-book"},l.a.createElement("p",null,"add book")),l.a.createElement(s.b,{to:"/dashboard/add-author"},l.a.createElement("p",null,"add author")),l.a.createElement(s.b,{to:"/dashboard/list-books"},l.a.createElement("p",null,"list book"))),e.map((function(e){return l.a.createElement(o.a,{key:e.path,path:e.path,exact:e.exact,component:e.main})}))))},q=Object(o.e)((function(e){var a=Object(n.useState)({username:"",password:""}),t=Object(f.a)(a,2),r=t[0],c=t[1],s=function(e){c(Object(g.a)({},r,Object(E.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"form-class",onSubmit:function(a){a.preventDefault(),"fuga"===r.username&&"fuga"===r.password&&e.history.push("/dashboard")}},l.a.createElement("div",{className:"div-class"},l.a.createElement("p",{className:"label-class"},"Username"),l.a.createElement("input",{className:"input-class",placeholder:"Username",type:"text",onChange:s,name:"username",value:r.username||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Password"),l.a.createElement("input",{className:"input-class",placeholder:"Password",type:"text",onChange:s,name:"password",value:r.password||"",required:!0}),l.a.createElement("button",{className:"button-class",type:"submit"},"Login"))))})),F=function(e){var a=e.id,t=v.firestore(),r=Object(n.useState)({newsTitle:"",newsDate:U()(new Date(Date.now())).format("YYYY-MM-DD"),newsUrl:"",newsFileUrl:""}),c=Object(f.a)(r,2),s=c[0],o=c[1],i=function(e){o(Object(g.a)({},s,Object(E.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"form-class",onSubmit:function(e){e.preventDefault(),t.collection("books/".concat(a,"/news")).add({newsTitle:s.newsTitle,newsDate:s.newsDate,newsUrl:s.newsUrl,newsFileUrl:s.newsFileUrl}).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))}},l.a.createElement("div",{className:"div-class"},l.a.createElement("h1",{className:"ml-35"},"A\xf1adir nueva Noticia"),l.a.createElement("p",{className:"label-class"},"Fecha noticia"),l.a.createElement("p",{className:"p-class"},s.newsDate||""),l.a.createElement(D.a,{defaultDate:s.newsDate,onSelect:function(e){o(Object(g.a)({},s,{newsDate:U()(new Date(e)).format("DD/MM/YYYY")}))}}),l.a.createElement("p",{className:"label-class"},"Titulo Noticia"),l.a.createElement("input",{className:"input-class",placeholder:"Titulo Noticia",type:"text",onChange:i,name:"newsTitle",value:s.newsTitle||"",required:!0}),l.a.createElement("p",{className:"label-class"},"Link Noticia"),l.a.createElement("input",{className:"input-class",placeholder:"Link Noticia",type:"text",onChange:i,name:"newsUrl",value:s.newsUrl||""}),l.a.createElement("p",{className:"label-class"},"Importar fichero noticia"),l.a.createElement(O,{doImageUrl:function(e){o(Object(g.a)({},s,{newsFileUrl:e}))},fileType:"pdfs",required:!1}),l.a.createElement("button",{className:"button-class",type:"submit"},"Guardar"))))},I=Object(o.e)((function(){return l.a.createElement("div",{className:"App"},l.a.createElement(h,null,l.a.createElement(o.a,{path:"/login",render:function(){return l.a.createElement(q,null)}}),l.a.createElement(o.a,{path:"/dashboard",render:function(){return l.a.createElement(T,null)}}),l.a.createElement(o.a,{exact:!0,path:"/dashboard/book/:id",render:function(e){return l.a.createElement(F,{id:e.match.params.id})}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(s.a,null,l.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.bfa18ab7.chunk.js.map